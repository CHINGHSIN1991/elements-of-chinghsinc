---
import PaginatedList, { createGetStaticPaths } from '../_templates/PaginatedList.astro';
import ProjectCard from '../../components/project/ProjectCard.astro';
import CategoryList from '../../components/common/CategoryList.astro';
import PopularItems from '../../components/common/PopularItems.astro';
import { useTranslations } from '../../i18n/utils';

export const prerender = true;
export const getStaticPaths = createGetStaticPaths('projects', 6);

const { page } = Astro.props;
const { t } = useTranslations(Astro);
const sidebarComponents = [
  {
    component: CategoryList,
    props: {
      collectionName: 'projects',
      heading: t('project.sidebar.categories'),
      basePath: '/project',
    }
  },
  { component: PopularItems, props: { collectionName: 'projects', linkPrefix: '/project' } }
];
const title = t('project.list.title');
const description = t('project.list.description');
---

<PaginatedList
  collectionName="projects"
  cardComponent={ProjectCard}
  sidebarComponents={sidebarComponents}
  page={page}
  title={title}
  description={description}
/>
