---
import CollectionPage, { createCollectionPage } from '../_templates/CollectionPage.astro';
import ProjectCard from '../../components/project/ProjectCard.astro';
import CategoryList from '../../components/common/CategoryList.astro';
import PopularItems from '../../components/common/PopularItems.astro';

export const prerender = true;

const { getStaticPaths, props } = createCollectionPage({
  collectionName: 'projects',
  cardComponent: ProjectCard,
  sidebarComponents: [
    { component: CategoryList, props: { collectionName: 'projects', heading: 'Project Categories', basePath: '/project' } },
    { component: PopularItems, props: { collectionName: 'projects', title: 'Popular Projects', linkPrefix: 'project' } }
  ],
  title: '案例作品'
});

export { getStaticPaths };

const { page } = Astro.props;
---
<CollectionPage {...props} page={page} />
