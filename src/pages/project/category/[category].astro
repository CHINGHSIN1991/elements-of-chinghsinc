---
import CategoryPage, { createGetStaticPaths } from '../../_templates/CategoryPage.astro';
import ProjectCard from '../../../components/project/ProjectCard.astro';
import PopularItems from '../../../components/common/PopularItems.astro';

export const prerender = true;
export const getStaticPaths = createGetStaticPaths('projects');

const { category, items } = Astro.props;
const PopularProjects = (props) =>
  PopularItems({ collectionName: 'projects', linkPrefix: '/project', ...props });
---

<CategoryPage
  category={category}
  items={items}
  itemLabel="專案"
  itemPropName="project"
  CardComponent={ProjectCard}
  categoryListProps={{ collectionName: 'projects', heading: 'Project Categories', basePath: '/project' }}
  PopularComponent={PopularProjects}
  allHref="/project"
/>
