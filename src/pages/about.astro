---
import MainLayout from '../layouts/MainLayout.astro';
import education from '../content/static/education.json';
import workExperience from '../content/static/workExperience.json';
import { useTranslations } from '../i18n/utils';

const { t, lang } = useTranslations(Astro);
const title = t('about.meta.title');
const description = t('about.meta.description');
const locale = lang as 'zh-tw' | 'en';
---

<MainLayout {title} description={description}>
  <div class="container mx-auto max-w-4xl py-12 px-4">
    <h1 class="text-4xl font-bold mb-8">{t('about.heading')}</h1>

    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-6">{t('about.educationHeading')}</h2>
      <div class="space-y-6">
        {education.data.map((edu) => (
          <div class="bg-background-secondary p-6 rounded-lg shadow-dark">
            <h3 class="text-xl font-bold mb-2">{edu.school[locale]}</h3>
            <p class="text-text-secondary mb-2">{edu.degree[locale]}</p>
            <p class="text-text-secondary mb-2">{edu.location[locale]}</p>
            <p class="text-text-secondary mb-2">{edu.startDate[locale]} - {edu.endDate[locale]}</p>
            <p class="text-text-secondary">{edu.description[locale]}</p>
          </div>
        ))}
      </div>
    </section>

    <section>
      <h2 class="text-2xl font-semibold mb-6">{t('about.experienceHeading')}</h2>
      <div class="space-y-6">
        {workExperience.data.map((work) => (
          <div class="bg-background-secondary p-6 rounded-lg shadow-dark">
            <h3 class="text-xl font-bold mb-2">{work.company[locale]}</h3>
            <p class="text-text-secondary mb-2">{work.position[locale]}</p>
            <p class="text-text-secondary mb-2">{work.location[locale]}</p>
            <p class="text-text-secondary mb-2">{work.startDate[locale]} - {work.endDate[locale]}</p>
            <ul>
              {work.description[locale].map((desc: string) => (
                <li>{desc}</li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </section>
  </div>
</MainLayout>
